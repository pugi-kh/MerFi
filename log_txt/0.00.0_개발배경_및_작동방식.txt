# ** MerFi -> Merge Files
'''
Revit을 사용하는 건축설계사무소에서 근무하면서
협력사와 작업할 때
도면을 cad file로 내보내는 경우가 많았는데,
Revit에서는 평면도, 입면도 이런식으로 도면별로 cad file을 하나로 묶어서 추출이 불가능하고,
평면도_1층.dwg, 평면도_2층.dwg,...,입면도_정면.dwg, 입면도_우측면.dwg,... 이런 형태로 
모두 낱장으로 출력하고 폴더로 분리한 뒤 파일을 합치는 작업을 했었다.

이때, 유사한 이름을 가진 파일들을 자동으로 묶어서 
폴더별로 정리해주는 프로그램이 있었으면 좋겠다는 생각이 들어,
이 프로그램을 만들어보고자 하게 되었다.


** 입력받을 변수
폴더의 경로 : user_path
시작자리, 끝자리 번호 : start_num, last_num
확장자명 : extension



** 작동방식

- 사용자로부터 정리할 파일들이 있는 폴더의 경로를 입력받는다. | 경로 변수명 : user_path
- 경로 내에 있는 파일들의 이름을 리스트화 한다. | 리스트명 : file_set

- 해당 파일들 이름의 몇번째 자리부터 몇번째 자리까지 동일한 파일들을 묶을 것인지
  시작하는 자리의 번호와, 끝나는 자리의 번호를 입력받는다. | 변수명 : start_num, last_num
- 이때 설정한 번호가 맞는지 예시로 생성될 폴더명 하나를 보여주어 사용자가 확인할 수 있도록 한다.

- 입력받은 번호를 인덱스번호로 변환해 리스트 내의 요소들을 각각 슬라이싱해 집합을 만들어
  중복요소가 제거된 컬렉션을 만든다. | 변수명 : folder_set
ex) 파일명 : 20250109_평면도_1층.dwg -> start_num = 10 , last_num = 12 
-> 폴더명 : "평면도"

- 터미널이 입력받은 user_path에서 동작하도록 현재 위치를 변경
- 현재 위치에 folder_set의 요소의 이름과 동일한 폴더들을 생성한다.
- 폴더명을 "평면도"라고 가정했을 때, 여기에 들어갈 파일명은 "*평면도*"로 표현할 수 있다.
- 특정 확장자만 이동하고자 하면, 사용자로부터 확장자명을 입력받는다. | 변수명 : file_extension
- 만약 확장자를 ".dwg"라고 입력했다면 옮겨질 파일명은 "*평면도*.dwg"라고 볼 수 있다.

- mkdir, move 등을 이용해 폴더를 생성하고 파일을 이동한다.



** 기존파일 참고
기존에 .bat 파일로 만들어 놨던 것을 참고하자면,

mkdir "AXG"
mkdir "AFP"
mkdir "APT"
...
move *"AXG"*"" "AXG"
move *"AFP"*"" "AFP"
move *"APT"*"" "APT"
...
rmdir "AXG"
rmdir "AFP"
rmdir "APT"
...


위와 같이 작성했엇다.

이때, rmdir을 사용한 이유는 그때그때 이동할 파일명을 설정한 것이 아니라, 
초기 설정을 해놓고 사용하면서, 만약 파일이 없으면 필요없는 폴더를 지우기 위해서 작성한 것이다.
지금은 move까지만 작성하면 될것으로 판단된다.

여기에서 (move *AXG* AXG)와 (move *"AXG"*"" "AXG")는 동일하게 작동하지만,
띄어쓰기 등이 파일명에 속해있을 가능성이 있어
이것이 파일 실행에 영향을 줄 수 있기 때문에 안전하게 따옴표로 묶는 방식을 택했다.
'''